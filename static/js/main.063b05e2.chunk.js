(this.webpackJsonpnaraku=this.webpackJsonpnaraku||[]).push([[0],{134:function(t,e,n){},135:function(t,e,n){},140:function(t,e){},169:function(t,e,n){var r={"./amplify-amazon-button_5.entry.js":[207,16],"./amplify-auth-container.entry.js":[208,17],"./amplify-auth-fields_9.entry.js":[209,18],"./amplify-authenticator.entry.js":[210,5],"./amplify-button_3.entry.js":[211,19],"./amplify-chatbot.entry.js":[212,4],"./amplify-checkbox.entry.js":[213,20],"./amplify-confirm-sign-in_7.entry.js":[214,6],"./amplify-container.entry.js":[215,21],"./amplify-federated-buttons_2.entry.js":[216,22],"./amplify-federated-sign-in.entry.js":[217,23],"./amplify-form-field_4.entry.js":[218,24],"./amplify-greetings.entry.js":[219,25],"./amplify-icon-button.entry.js":[220,26],"./amplify-icon.entry.js":[221,7],"./amplify-link.entry.js":[222,27],"./amplify-nav_2.entry.js":[223,28],"./amplify-photo-picker.entry.js":[224,29],"./amplify-picker.entry.js":[225,30],"./amplify-radio-button_3.entry.js":[226,8],"./amplify-s3-album.entry.js":[227,9],"./amplify-s3-image-picker.entry.js":[228,10],"./amplify-s3-image.entry.js":[229,11],"./amplify-s3-text-picker.entry.js":[230,12],"./amplify-s3-text.entry.js":[231,13],"./amplify-select-mfa-type.entry.js":[232,31],"./amplify-sign-in-button.entry.js":[233,14],"./amplify-tooltip.entry.js":[234,32]};function a(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],a=e[0];return n.e(e[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=169,t.exports=a},204:function(t,e,n){"use strict";n.r(e);var r=n(3),a=n.n(r),c=n(113),i=n.n(c),s=(n(134),n(76)),u=n(17),o=n(18),f=n(74),l=n(30),j=n(29),p=(n(135),n(86)),h=n(124),y=n(87),b=n(11),d=n(34),m=n.n(d),O=n(28),x=n(48),g=n(15),v=n(55),k=n(265),w=n(78),S=n(38),F=n(7),_=new S.a("withAuth");var I="https://6qo3knto43.execute-api.us-west-2.amazonaws.com/prod/";function E(){return P.apply(this,arguments)}function P(){return(P=Object(x.a)(m.a.mark((function t(){var e,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.currentSession();case 2:return e=t.sent,n=e.getIdToken().getJwtToken(),t.abrupt("return",{Authorization:n});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){return(U=Object(x.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fetch,t.t1="".concat(I),t.next=4,E();case 4:return t.t2=t.sent,t.t3={method:"GET",headers:t.t2},t.next=8,(0,t.t0)(t.t1,t.t3).then((function(t){return t.json()}));case 8:return e=t.sent,t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return(C=Object(x.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fetch,t.t1="".concat(I,"/").concat(encodeURI(e)),t.next=4,E();case 4:return t.t2=t.sent,t.t3={method:"GET",headers:t.t2},t.next=8,(0,t.t0)(t.t1,t.t3).then((function(t){return t.json()}));case 8:return n=t.sent,t.abrupt("return",n);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var T={Auth:{identityPoolId:"us-west-2:6be02c25-8ed1-41c3-be24-91fd359ae1ae",region:"us-west-2",userPoolId:"us-west-2_igXUlSWIY",userPoolWebClientId:"353nnho6ujdajmsko93qqftgr9"},Storage:{customPrefix:{public:""},AWSS3:{bucket:"naraku",region:"us-west-2"}}};p.default.configure(T);var A,D=[],L=function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).state={files:[]},r.setFiles=r.setFiles.bind(Object(f.a)(r)),r}return Object(o.a)(n,[{key:"setFiles",value:function(t){this.setState({files:t})}},{key:"componentDidMount",value:function(){var t=this;(function(){return U.apply(this,arguments)})().then((function(e){D=e,t.setState({files:D}),A=new h.a(D,{keys:[],threshold:.4,ignoreLocation:!0,useExtendedSearch:!0}),console.log(D)}))}},{key:"render",value:function(){return Object(F.jsx)(y.a,{children:Object(F.jsx)("div",{children:Object(F.jsxs)(b.c,{children:[Object(F.jsx)(b.a,{path:"/:fileKey+",children:Object(F.jsx)(q,{})}),Object(F.jsxs)(b.a,{path:"/",children:[Object(F.jsx)(z,{setFiles:this.setFiles}),Object(F.jsx)("ul",{children:this.state.files.map((function(t){return Object(F.jsx)("li",{children:Object(F.jsx)(y.b,{to:"/".concat(encodeURI(t)),children:t})},t)}))})]})]})})})}}]),n}(a.a.Component);function q(){var t=Object(b.f)().fileKey,e=Object(r.useState)(),n=Object(s.a)(e,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){(function(t){return C.apply(this,arguments)})(t).then((function(t){return c(t.presignedUrl)}))})),Object(F.jsx)(F.Fragment,{children:a&&Object(F.jsx)("video",{src:"".concat(a),controls:!0,autoPlay:!0})})}function z(t){var e=t.setFiles;return Object(F.jsx)("div",{children:Object(F.jsx)("input",{type:"search",placeholder:"Search here",onChange:function(t){t.preventDefault(),t.target.value.length>0&&e(A.search(t.target.value).map((function(t){return t.item})))}})})}var J,M=(J=L,function(t){var e=a.a.useState(!1),n=Object(s.a)(e,2),r=n[0],c=n[1];function i(){return(i=Object(x.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.currentAuthenticatedUser();case 3:t.sent&&c(!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),_.debug(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return a.a.useEffect((function(){return Object(g.j)("withAuth"),function(){i.apply(this,arguments)}(),Object(w.b)((function(t){t===w.a.SignedIn?c(!0):t===w.a.SignedOut&&c(!1)}))})),r?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(k.e,{}),Object(F.jsx)(J,Object(O.a)({},t))]}):Object(F.jsx)(k.c,{children:Object(F.jsx)(k.a,{children:Object(F.jsx)(k.b,Object(O.a)(Object(O.a)({},t),{},{children:Object(F.jsx)(k.d,{slot:"sign-in",hideSignUp:!0})}))})})}),W=function(t){t&&t instanceof Function&&n.e(35).then(n.bind(null,278)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};i.a.render(Object(F.jsx)(a.a.StrictMode,{children:Object(F.jsx)(M,{})}),document.getElementById("root")),W()}},[[204,2,3]]]);
//# sourceMappingURL=main.063b05e2.chunk.js.map